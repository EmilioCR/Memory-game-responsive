"use strict";!function(e){e.save={setData:function(e,s){if(!e||!s)return console.log("Error. Required fields"),!1;localStorage.setItem(e,JSON.stringify(s))},getData:function(e){if(!e)return console.log("Error. Required fields"),!1;var s=localStorage.getItem(e);return s?s=JSON.parse(s):(console.log("No data stored"),!1)}}}(window);var Deck=function(){this.cards=["beemo-detective","beemo-detective","beemo","beemo","lemon","lemon","jake-angry","jake-angry","pingu","pingu","grumosa","grumosa","finn","finn","fionna","fionna","fire-princess","fire-princess","marceline","marceline"]};Deck.prototype={contructor:Deck,deckRandom:function(){this.randomDeck=new Array;for(var e=!1;!e;){var s=Math.floor(Math.random()*this.cards.length);this.randomDeck.push(this.cards[s]),this.cards.splice(s,1),this.cards.length<=0&&(e=!0)}for(var a=0;a<this.randomDeck.length;a++)this.cards[a]=this.randomDeck[a]}};var deck=new Deck;deck.deckRandom();var Cards=function(){function e(){h=0,(deck=new Deck).deckRandom();for(var e=0;e<g.length;e++)g[e].classList.remove("matched"),g[e].classList.add("back-cards")}var s=document.getElementById("button-reset"),a=document.getElementById("cards"),c=document.getElementById("current-score"),t={score:0};save.getData("Current Score")?score=save.getData("Current Score").score:t.score=0;document.getElementById("high-score");for(var r=0,o=void 0,n=void 0,d=void 0,i=void 0,l=void 0,m=void 0,h=0,u=0;u<20;u++){var v=document.createElement("li");v.classList.add("card","back-cards"),v.value=u,a.appendChild(v)}for(var g=document.getElementsByClassName("card"),k=0;k<g.length;k++)g[k].addEventListener("click",function(){1===++r?(this.classList.remove("back-cards"),this.classList.add("show-"+deck.cards[this.value]+"-card"),d=this.className,o=this,l=this.value):2===r&&(this.classList.remove("back-cards"),this.classList.add("show-"+deck.cards[this.value]+"-card"),i=this.className,n=this,m=this.value,setTimeout(function(){l===m?(console.log("cheater"),r=1):d==i?(o.className=" ",n.className=" ",o.classList.add("card","matched"),n.classList.add("card","matched"),r=0,c.innerText=" ",t.score+=100,c.innerText=t.score,save.setData("Current Score").score,(h+=2)===deck.cards.length&&(console.log("Game Over"),console.log("new deck",h),(deck=new Deck).deckRandom(),e())):(console.log("false"),o.className=" ",n.className=" ",o.classList.add("card","back-cards"),n.classList.add("card","back-cards"),r=0)},500))});s.addEventListener("click",function(){e(),c.innerText=" ",t.score=0,c.innerText=t.score})}();"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").then(function(e){console.log("SW registered: ",e)}).catch(function(e){console.log("SW registration failed: ",e)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvY2FsLmpzIiwibWFpbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJzYXZlIiwic2V0RGF0YSIsIm5hbWUiLCJkYXRhIiwiY29uc29sZSIsImxvZyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0RGF0YSIsImdldEl0ZW0iLCJwYXJzZSIsIkRlY2siLCJ0aGlzIiwiY2FyZHMiLCJwcm90b3R5cGUiLCJjb250cnVjdG9yIiwiZGVja1JhbmRvbSIsInJhbmRvbURlY2siLCJBcnJheSIsImVtcHR5IiwicmFuZG9tSW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJsZW5ndGgiLCJwdXNoIiwic3BsaWNlIiwiaSIsImRlY2siLCJDYXJkcyIsInJlc2V0Q2FyZHMiLCJtYXRjaGVkQ2FyZHMiLCJsaSIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsImJ0blJlc2V0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNhcmRzQ29udGFpbmVyIiwiY3VycmVudFNjb3JlIiwiY3VycmVudFNjb3JlVmFsdWUiLCJzY29yZSIsImNvdW50IiwiZmlyc3RDYXJkIiwic2Vjb25kQ2FyZCIsImZpcnN0Q2xhc3NOYW1lQ2FyZCIsInNlY29uZENsYXNzTmFtZUNhcmQiLCJmaXJzdFZhbHVlQ2FyZCIsInNlY29uZFZhbHVlQ2FyZCIsImNyZWF0ZUVsZW1lbnQiLCJ2YWx1ZSIsImFwcGVuZENoaWxkIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc05hbWUiLCJzZXRUaW1lb3V0IiwiaW5uZXJUZXh0IiwibmF2aWdhdG9yIiwic2VydmljZVdvcmtlciIsInJlZ2lzdGVyIiwidGhlbiIsInJlZ2lzdHJhdGlvbiIsImNhdGNoIiwicmVnaXN0cmF0aW9uRXJyb3IiXSwibWFwcGluZ3MiOiJjQUFBLFNBQXFCQSxHQWdDcEJBLEVBQU9DLE1BQ05DLFFBekJELFNBQWlCQyxFQUFNQyxHQUN0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QyxJQUFJLFdBQ1p3QyxFQUFRLEdBU0pHLEdBQXNCQyxHQUN6QkgsRUFBVVcsVUFBWSxJQUN0QlYsRUFBV1UsVUFBWSxJQUN2QlgsRUFBVVgsVUFBVUUsSUFBSSxPQUFRLFdBQ2hDVSxFQUFXWixVQUFVRSxJQUFJLE9BQVEsV0FDakNRLEVBQVEsRUFDUkgsRUFBYWlCLFVBQVksSUFDekJoQixFQUFrQkMsT0FBUyxJQUMzQkYsRUFBYWlCLFVBQVloQixFQUFrQkMsTUFDM0M1QyxLQUFLQyxRQUFRLGlCQUFpQjJDLE9BQzlCWCxHQUFnQixLQUtLSCxLQUFLZixNQUFNVyxTQUMvQnRCLFFBQVFDLElBQUksYUFDWkQsUUFBUUMsSUFBSSxXQUFZNEIsSUFDeEJILEtBQU8sSUFBSWpCLE1BQ05LLGFBQ0xjLE9BT0Q1QixRQUFRQyxJQUFJLFNBQ1p5QyxFQUFVVyxVQUFZLElBQ3RCVixFQUFXVSxVQUFZLElBQ3ZCWCxFQUFVWCxVQUFVRSxJQUFJLE9BQVEsY0FDaENVLEVBQVdaLFVBQVVFLElBQUksT0FBUSxjQUNqQ1EsRUFBUSxJQUlULFFBT0xQLEVBQVNrQixpQkFBaUIsUUFBUyxXQUNsQ3hCLElBQ0FVLEVBQWFpQixVQUFZLElBQ3pCaEIsRUFBa0JDLE1BQVEsRUFDMUJGLEVBQWFpQixVQUFZaEIsRUFBa0JDLFFBcks5QixHQXFMWCxrQkFBbUJnQixXQUNuQjdELE9BQU95RCxpQkFBaUIsT0FBUSxXQUM5QkksVUFBVUMsY0FBY0MsU0FBUyxVQUFVQyxLQUFLLFNBQUFDLEdBQzlDNUQsUUFBUUMsSUFBSSxrQkFBbUIyRCxLQUM5QkMsTUFBTSxTQUFBQyxHQUNQOUQsUUFBUUMsSUFBSSwyQkFBNEI2RCIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gc2F2ZU1vZHVsZSh3aW5kb3cpIHtcblxuXHQvKipcblx0ICogU2F2ZSBjdXJyZW50IGRhdGEgdG8gbG9jYWxTdG9yYWdlXG5cdCAqIEBwYXJhbSBTdHJpbmcgbmFtZVxuXHQgKiBAcGFyYW0gW0FycmF5XSBkYXRhXG5cdCAqIEBwdWJsaWNcblx0ICovXG5cdGZ1bmN0aW9uIHNldERhdGEobmFtZSwgZGF0YSl7XG5cdFx0aWYoIW5hbWUgfHwgIWRhdGEpIHtjb25zb2xlLmxvZygnRXJyb3IuIFJlcXVpcmVkIGZpZWxkcycpOyByZXR1cm4gZmFsc2U7fVxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKG5hbWUsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFNhdmUgY3VycmVudCBkYXRhIHRvIGxvY2FsU3RvcmFnZVxuXHQgKiBAcGFyYW0gU3RyaW5nIG5hbWVcblx0ICogQHB1YmxpY1xuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0RGF0YShuYW1lKXtcblx0XHRpZighbmFtZSkge2NvbnNvbGUubG9nKCdFcnJvci4gUmVxdWlyZWQgZmllbGRzJyk7IHJldHVybiBmYWxzZTt9XG5cdFx0XG5cdFx0dmFyIGRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShuYW1lKTtcblx0XHRcblx0XHRpZihkYXRhKXtcblx0XHRcdGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuXHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUubG9nKCdObyBkYXRhIHN0b3JlZCcpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxuXHRcblx0d2luZG93LnNhdmUgPSB7XG5cdFx0c2V0RGF0YTogc2V0RGF0YSxcblx0XHRnZXREYXRhOiBnZXREYXRhXG5cdH1cblxufSkod2luZG93KTsiLCIvLyBDcmVhdGUgQ2FyZHMgYW5kIERlY2tcbmxldCBEZWNrID0gZnVuY3Rpb24gKCkge1xuXHR0aGlzLmNhcmRzID0gW1wiYmVlbW8tZGV0ZWN0aXZlXCIsIFwiYmVlbW8tZGV0ZWN0aXZlXCIsIFwiYmVlbW9cIiwgXCJiZWVtb1wiLCBcImxlbW9uXCIsIFwibGVtb25cIiwgXCJqYWtlLWFuZ3J5XCIsIFwiamFrZS1hbmdyeVwiLCBcInBpbmd1XCIsIFwicGluZ3VcIiwgXCJncnVtb3NhXCIsIFwiZ3J1bW9zYVwiLCBcImZpbm5cIiwgXCJmaW5uXCIsIFwiZmlvbm5hXCIsIFwiZmlvbm5hXCIsIFwiZmlyZS1wcmluY2Vzc1wiLCBcImZpcmUtcHJpbmNlc3NcIiwgXCJtYXJjZWxpbmVcIiwgXCJtYXJjZWxpbmVcIl07XG59XG5cbi8vIFNodWZmbGUgdGhlIGNhcmRzXG5cbkRlY2sucHJvdG90eXBlID0ge1xuXHRjb250cnVjdG9yIDogRGVjayxcblxuXHQvL0NyZWF0ZSBSYW1kb20gRGVjayBcblx0ZGVja1JhbmRvbSA6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMucmFuZG9tRGVjayA9IG5ldyBBcnJheSgpO1xuXHRcdGxldCBlbXB0eSA9IGZhbHNlO1xuXG5cdFx0d2hpbGUoIWVtcHR5KXtcblx0XHRcdGxldCByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp0aGlzLmNhcmRzLmxlbmd0aCk7XG5cdFx0XHR0aGlzLnJhbmRvbURlY2sucHVzaCh0aGlzLmNhcmRzW3JhbmRvbUluZGV4XSk7XG5cdFx0XHR0aGlzLmNhcmRzLnNwbGljZShyYW5kb21JbmRleCwgMSk7XG5cdFx0XHRpZih0aGlzLmNhcmRzLmxlbmd0aCA8PTApIGVtcHR5ID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRmb3IobGV0IGk9MDsgaTx0aGlzLnJhbmRvbURlY2subGVuZ3RoOyBpKyspe1xuXHRcdFx0dGhpcy5jYXJkc1tpXSA9IHRoaXMucmFuZG9tRGVja1tpXTtcblx0XHR9XG5cdH0sXG5cdFxufTtcblxubGV0IGRlY2sgPSBuZXcgRGVjaygpO1xuZGVjay5kZWNrUmFuZG9tKCk7XG5cbmxldCBDYXJkcyA9ICggICgpID0+IHtcblxuXHQvLyBcblx0Ly8gQnV0dG9uIFJlc2V0XG5cdC8vIFxuXHRsZXQgYnRuUmVzZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV0dG9uLXJlc2V0Jyk7XG5cblx0Ly8gXG5cdC8vIENhcmRzIENvbnRhaW5lciAndWwnXG5cdC8vIFxuXHRsZXQgY2FyZHNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FyZHMnKTtcblxuXHQvLyBcblx0Ly8gQ3VycmVudCBTY29yZSBWYWx1ZVxuXHQvL1xuXHRsZXQgY3VycmVudFNjb3JlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1cnJlbnQtc2NvcmUnKTtcblx0bGV0IGN1cnJlbnRTY29yZVZhbHVlID0ge1xuXHRcdHNjb3JlOiAwXG5cdH07XG5cdFxuXHRpZiAoc2F2ZS5nZXREYXRhKCdDdXJyZW50IFNjb3JlJykpIHtcblx0XHRzY29yZSA9IHNhdmUuZ2V0RGF0YSgnQ3VycmVudCBTY29yZScpLnNjb3JlO1xuXHR9ZWxzZSB7XG5cdFx0Y3VycmVudFNjb3JlVmFsdWUuc2NvcmUgPSAwO1xuXHR9XG5cdC8vIFxuXHQvLyBIaWdoIFNjb3JlIFZhbHVlXG5cdC8vIFxuXHRsZXQgaGlnaFNjb3JlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2gtc2NvcmUnKTtcblx0bGV0IGhpZ2hTY29yZVZhbHVlID0gMDtcblxuXHQvLyBcblx0Ly8gQ291bnRlciBvZiBzZWxlY3RlZCBjYXJkcywgeW91IGNhbiBvbmx5IHNlbGVjdCB0d28gY2FyZHNcblx0Ly8gV2hlbiB0aGUgY291bnRlciBpcyAnMScgZ2V0IHRoZSBzcGVjaWZpYyBpZCBhbmQgc2F2ZSB0aGUgaWQsIGFmdGVyIHN1bSBoaW1zZWxmIGFuZCBlbnRlciBpbiB0aGUgc2Vjb25kIGNvbmRpdGlvbmFsXG5cdC8vIHRvIGdldCB0aGUgc2Vjb25kIGlkIGFuZCBjb21wYXJlIHRoZSBpZCdzIHRvIGVsaW1pbmF0ZWQgdGhlIG1hdGNoZWRzIGNhcmRzIG9yIGhpZGUgYWdhaW5cblx0Ly8gXG5cdGxldCBjb3VudCA9IDA7XG5cblx0Ly8gXG5cdC8vIFNhdmUgdGhlIHBvc2l0aW9uIG9mIHRoZSBjYXJkIGluIHRoaXMgdmFyaWFibGVzXG5cdC8vIGFuZCBhZnRlciBlbGltaW5hdGUgdGhpcyBjYXJkc1xuXHQvLyBcblx0bGV0IGZpcnN0Q2FyZDtcblx0bGV0IHNlY29uZENhcmQ7XG5cblx0bGV0IGZpcnN0Q2xhc3NOYW1lQ2FyZDtcblx0bGV0IHNlY29uZENsYXNzTmFtZUNhcmQ7XG5cblx0Ly8gXG5cdC8vIFNhdmUgdGhlIGNhcmRzIGlkcyB0byBjb21wYXJlIGFuZCB2YWxpZGF0ZVxuXHQvLyBcblx0bGV0IGZpcnN0SWRDYXJkO1xuXHRsZXQgc2Vjb25kSWRDYXJkO1xuXG5cdC8vIFxuXHQvLyBTYXZlIHRoZSBjYXJkcyB2YWx1ZXMgdG8gY29tcGFyZSBhbmQgdmFsaWRhdGVcblx0Ly8gXG5cdGxldCBmaXJzdFZhbHVlQ2FyZDtcblx0bGV0IHNlY29uZFZhbHVlQ2FyZDtcblxuXHQvLyBcblx0Ly8gQ291bnQgb2YgbWF0Y2hlZCBDYXJkc1xuXHQvLyBcblx0bGV0IG1hdGNoZWRDYXJkcyA9IDA7XG5cblx0Ly8gXG5cdC8vIEFzc2lnbiB0aGUgY2xhc3NuYW1lcyBmb3IgZWFjaCBjYXJkIG9uIHRoZSBkZWNrXG5cdC8vXG5cdFxuXHRmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcblx0XHRsZXQgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuXHRcdGxpLmNsYXNzTGlzdC5hZGQoJ2NhcmQnLCAnYmFjay1jYXJkcycpO1xuXHRcdGxpLnZhbHVlID0gaTtcblx0XHRjYXJkc0NvbnRhaW5lci5hcHBlbmRDaGlsZChsaSk7XG5cdH1cblxuXHQvLyBcblx0Ly8gR2V0IHRoZSBjbGFzc25hbWVzXG5cdC8vIFxuXHRsZXQgbGkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjYXJkJyk7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgbGkubGVuZ3RoOyBpKyspIHtcblx0XHRsaVtpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0Ly8gXG5cdFx0XHQvLyBTdW0gdmFyIGNvdW50IHRvIGVudGVyIGluIGZpcnN0IHZhbGlkYXRpb24gYW5kIHNlY29uZFxuXHRcdFx0Ly8gXG5cdFx0XHRjb3VudCsrO1xuXHRcdFx0aWYgKGNvdW50ID09PSAxKSB7XG5cdFx0XHRcdHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnYmFjay1jYXJkcycpO1xuXHRcdFx0XHR0aGlzLmNsYXNzTGlzdC5hZGQoJ3Nob3ctJyArIGRlY2suY2FyZHNbdGhpcy52YWx1ZV0gKyAnLWNhcmQnKTtcblx0XHRcdFx0Zmlyc3RDbGFzc05hbWVDYXJkID0gdGhpcy5jbGFzc05hbWU7XG5cdFx0XHRcdGZpcnN0Q2FyZCA9IHRoaXM7XG5cdFx0XHRcdGZpcnN0VmFsdWVDYXJkID0gdGhpcy52YWx1ZTtcblxuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoY291bnQgPT09IDIgKSB7XG5cdFx0XHRcdHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnYmFjay1jYXJkcycpO1xuXHRcdFx0XHR0aGlzLmNsYXNzTGlzdC5hZGQoJ3Nob3ctJyArIGRlY2suY2FyZHNbdGhpcy52YWx1ZV0gKyAnLWNhcmQnKTtcblx0XHRcdFx0c2Vjb25kQ2xhc3NOYW1lQ2FyZCA9IHRoaXMuY2xhc3NOYW1lO1xuXHRcdFx0XHRzZWNvbmRDYXJkID0gdGhpcztcblx0XHRcdFx0c2Vjb25kVmFsdWVDYXJkID0gdGhpcy52YWx1ZTtcblxuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0XHRcdC8vIFxuXHRcdFx0XHRcdC8vIENvbXBhcmUgdGhlIHZhbHVlcyBvZiB0aGUgbGkncyBkbyBhdm9pZCB0aGUgZWxpbWluYXRpb24gb2YgaGltc2VsZlxuXHRcdFx0XHRcdC8vIFxuXHRcdFx0XHRcdGlmIChmaXJzdFZhbHVlQ2FyZCA9PT0gc2Vjb25kVmFsdWVDYXJkKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnY2hlYXRlcicpO1xuXHRcdFx0XHRcdFx0Y291bnQgPSAxO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdC8vIFxuXHRcdFx0XHRcdFx0Ly8gQ29tcGFyZSB0aGUgdHdvIGNhcmRzIGlkIGFuZCBpZiBpcyB0cnVlIGVsaW1pbmF0ZSBmcm9tIGxpc3Qgb3IgaGlkZSBhZ2FpblxuXHRcdFx0XHRcdFx0Ly8gU3VtIFNjb3JlXG5cdFx0XHRcdFx0XHQvLyBJbml0IHRoZSBjb3VudFxuXHRcdFx0XHRcdFx0Ly8gU3VtIG1hdGNoZWQgQ2FyZHNcblx0XHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0XHRpZiAoZmlyc3RDbGFzc05hbWVDYXJkID09IHNlY29uZENsYXNzTmFtZUNhcmQpIHtcblx0XHRcdFx0XHRcdFx0Zmlyc3RDYXJkLmNsYXNzTmFtZSA9ICcgJztcblx0XHRcdFx0XHRcdFx0c2Vjb25kQ2FyZC5jbGFzc05hbWUgPSAnICc7XG5cdFx0XHRcdFx0XHRcdGZpcnN0Q2FyZC5jbGFzc0xpc3QuYWRkKCdjYXJkJywgJ21hdGNoZWQnKTtcblx0XHRcdFx0XHRcdFx0c2Vjb25kQ2FyZC5jbGFzc0xpc3QuYWRkKCdjYXJkJywgJ21hdGNoZWQnKTtcblx0XHRcdFx0XHRcdFx0Y291bnQgPSAwO1xuXHRcdFx0XHRcdFx0XHRjdXJyZW50U2NvcmUuaW5uZXJUZXh0ID0gJyAnO1xuXHRcdFx0XHRcdFx0XHRjdXJyZW50U2NvcmVWYWx1ZS5zY29yZSArPSAxMDA7XG5cdFx0XHRcdFx0XHRcdGN1cnJlbnRTY29yZS5pbm5lclRleHQgPSBjdXJyZW50U2NvcmVWYWx1ZS5zY29yZTtcblx0XHRcdFx0XHRcdFx0c2F2ZS5zZXREYXRhKCdDdXJyZW50IFNjb3JlJykuc2NvcmVcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZENhcmRzICs9IDI7XG5cblx0XHRcdFx0XHRcdFx0Ly8gXG5cdFx0XHRcdFx0XHRcdC8vIElmIG1hdGNoZWRzIENhcmRzIGlzIGVxdWFsIHRoZSBsZW5ndGggb2YgdGhlIGRlY2sgcmVzdGFydCB0aGUgZ2FtZVxuXHRcdFx0XHRcdFx0XHQvLyBcblx0XHRcdFx0XHRcdFx0aWYgKG1hdGNoZWRDYXJkcyA9PT0gZGVjay5jYXJkcy5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnR2FtZSBPdmVyJyk7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ25ldyBkZWNrJywgbWF0Y2hlZENhcmRzKTtcblx0XHRcdFx0XHRcdFx0XHRkZWNrID0gbmV3IERlY2soKTtcblx0XHRcdFx0XHRcdFx0XHRkZWNrLmRlY2tSYW5kb20oKTtcblx0XHRcdFx0XHRcdFx0XHRyZXNldENhcmRzKCk7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gXG5cdFx0XHRcdFx0XHQvLyBDYXJkcyBkaWZmZXJlbnRzLCBzbyBoZSBlbGltaW5hdGVkIHRoZSBjbGFzcyBvZiB0aGlzIGNhcmQgYW5kIG5hbWVkIHRoZSBkZWZhdWx0cyBjbGFzc25hbWVzXG5cdFx0XHRcdFx0XHQvLyBcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdmYWxzZScpO1xuXHRcdFx0XHRcdFx0XHRmaXJzdENhcmQuY2xhc3NOYW1lID0gJyAnO1xuXHRcdFx0XHRcdFx0XHRzZWNvbmRDYXJkLmNsYXNzTmFtZSA9ICcgJztcblx0XHRcdFx0XHRcdFx0Zmlyc3RDYXJkLmNsYXNzTGlzdC5hZGQoJ2NhcmQnLCAnYmFjay1jYXJkcycpO1xuXHRcdFx0XHRcdFx0XHRzZWNvbmRDYXJkLmNsYXNzTGlzdC5hZGQoJ2NhcmQnLCAnYmFjay1jYXJkcycpO1xuXHRcdFx0XHRcdFx0XHRjb3VudCA9IDA7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFxuXHRcdFx0XHR9LDUwMClcblx0XHRcdFx0XHRcblx0XHRcdH1cblxuXHRcdH0pXG5cdH1cblxuXHRidG5SZXNldC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRyZXNldENhcmRzKCk7XG5cdFx0Y3VycmVudFNjb3JlLmlubmVyVGV4dCA9ICcgJztcblx0XHRjdXJyZW50U2NvcmVWYWx1ZS5zY29yZSA9IDA7XG5cdFx0Y3VycmVudFNjb3JlLmlubmVyVGV4dCA9IGN1cnJlbnRTY29yZVZhbHVlLnNjb3JlO1xuXHR9KTtcblxuXHRmdW5jdGlvbiByZXNldENhcmRzKCkge1xuXHRcdG1hdGNoZWRDYXJkcyA9IDA7XG5cdFx0ZGVjayA9IG5ldyBEZWNrKCk7XG5cdFx0ZGVjay5kZWNrUmFuZG9tKCk7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxpLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRsaVtpXS5jbGFzc0xpc3QucmVtb3ZlKCdtYXRjaGVkJyk7XG5cdFx0XHRsaVtpXS5jbGFzc0xpc3QuYWRkKCdiYWNrLWNhcmRzJylcblx0XHR9XG5cdH1cblx0XG59KSgpXG5cbmlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3RlcignL3N3LmpzJykudGhlbihyZWdpc3RyYXRpb24gPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnU1cgcmVnaXN0ZXJlZDogJywgcmVnaXN0cmF0aW9uKTtcbiAgICAgIH0pLmNhdGNoKHJlZ2lzdHJhdGlvbkVycm9yID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ1NXIHJlZ2lzdHJhdGlvbiBmYWlsZWQ6ICcsIHJlZ2lzdHJhdGlvbkVycm9yKTtcbiAgICAgIH0pO1xuICAgIH0pO1xufSJdfQ==
